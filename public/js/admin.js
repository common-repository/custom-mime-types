(()=>{var e={34:e=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function e(i){var n,s,r="",o=0,a=function(e){var i,n,s,r,o=t(e);if("object"===o&&!e)return"null";if("object"===o){if(!e.constructor)return"object";for(n in(i=(s=e.constructor.toString()).match(/(\w+)\(/))&&(s=i[1].toLowerCase()),r=["boolean","number","string","array"])if(s===r[n]){o=r[n];break}}return o},u=a(i);switch(u){case"function":n="";break;case"boolean":n="b:"+(i?"1":"0");break;case"number":n=(Math.round(i)===i?"i":"d")+":"+i;break;case"string":n="s:"+~-encodeURI(i).split(/%..|./).length+':"'+i+'"';break;case"array":case"object":for(s in n="a",i)if(i.hasOwnProperty(s)){if("function"===a(i[s]))continue;r+=e(s.match(/^[0-9]+$/)?parseInt(s,10):s)+e(i[s]),o++}n+=":"+o+":{"+r+"}";break;case"undefined":default:n="N"}return"object"!==u&&"array"!==u&&(n+=";"),n}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(34),t=i.n(e);if(void 0===n)var n=jQuery;var s={init:function(){var e=window.location.hash.replace("#","");(e=""==e.length?"mimes":e)&&s.show(e)},show:function(e){n('[data-content="'.concat(e,'"]')).fadeIn(200).addClass("active").siblings().hide(0).removeClass("active"),n('[data-href="'.concat(e,'"]')).addClass("active").siblings().removeClass("active")}};Vue.createApp({data:function(){return{mode:"new",current_extention:"",current:{},loader:10,per_page:10,pagination:1,max_pagination:-1,search:"",suggestions:{},roles:{},extentions:{},savedCurrent:!1,savedCurrentTimer:!1,max_upload_size:0,savedSize:!1,savedSizeTimer:!1,size_units:[],size_unit:"mb",max_file_size_dropdown:!1}},computed:{error:function(){var e="",t=this.current_extention.toLowerCase();return"new"==this.mode&&t.length>0&&Object.keys(this.extentions).length&&Object.keys(this.extentions).forEach((function(i){(i==t||i.split("|").includes(t))&&(e="Extention exists!")})),0==this.current.roles.length&&(e="Select at least one role"),0==this.current.types.length&&(e="Mime type is required"),0==t.length&&(e="Extention name is required"),e},limit_error:function(){return Number(parseInt(this.max_upload_size)*parseInt(this.size_units[this.size_unit]))>_cmt.wp_max_upload_size},getExtentions:function(){var e=this,t=this.search.trim().toLowerCase(),i={};this.extentions&&Object.keys(this.extentions).forEach((function(n){(0==t.length||n.search(t)>-1||e.extentions[n].types.search(t)>-1)&&(i[n]=e.extentions[n])})),this.max_pagination=Math.ceil(Object.keys(i).length/this.per_page);var n=Object.keys(i).slice((this.pagination-1)*this.per_page,this.pagination*this.per_page),s={};return n.forEach((function(t){s[t]=e.extentions[t]})),s},getSuggestions:function(){var e=this,t={};return Object.keys(this.suggestions).length>0&&Object.keys(this.suggestions).forEach((function(i){Object.keys(e.extentions).includes(i)||(t[i]=e.suggestions[i])})),t}},methods:{show:function(e){s.show(e)},toggleRole:function(e){var t=this.current.roles.indexOf(e);if(t>-1){if("administrator"==e)return!1;this.current.roles.splice(t,1)}else this.current.roles.push(e)},mime_roles:function(e){var t=this,i=[];return e.roles.forEach((function(e){i.push(t.roles[e])})),i.join(", ")},strip_extention:function(){var e=this.current_extention.toLowerCase();e=e.replace(/[^a-z|0-9]/,""),this.current_extention=e},strip_types:function(){var e=this.current.types.toLowerCase();e=e.replace(/[^a-z/0-9|,]/,""),this.current.types=e},edit:function(e){this.mode="edit",this.current_extention=e,this.current=this.extentions[e],n("#edit_mime").length&&n("html, body").animate({scrollTop:n("#edit_mime").offset().top},1e3)},newExt:function(){this.mode="new",this.current_extention="",this.current={types:"",roles:["administrator"],enabled:1},n("#edit_mime").length&&n("html, body").animate({scrollTop:n("#edit_mime").offset().top},1e3)},saveCurrent:function(){var e=this;clearTimeout(this.savedCurrentTimer),this.savedCurrent=0,this.extentions[this.current_extention]=this.current,this.saveSettings(),this.mode="edit",this.savedCurrent=1,this.savedCurrentTimer=setTimeout((function(){clearTimeout(e.savedCurrentTimer),e.savedCurrent=0}),2e3)},saveSettings:function(){var e=t()(this.extentions),i=Number(parseInt(this.max_upload_size)*parseInt(this.size_units[this.size_unit]));n.post(_cmt.ajaxurl,{mimes:e,max_upload_size:i,size_unit:this.size_unit,action:"cmt_save_settings"},(function(e){return e}))},deleteMime:function(e){this.extentions[e].delete?(delete this.extentions[e],this.saveSettings()):this.extentions[e].delete=!0},size:function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},strip_max_upload_size:function(){this.max_upload_size=this.max_upload_size.replace(/[^.0-9]/g,"")},saveSize:function(){var e=this;this.savedSize=0,clearTimeout(this.savedSizeTimer),this.saveSettings(),this.savedSize=1,this.savedSizeTimer=setTimeout((function(){clearTimeout(e.savedSizeTimer),e.savedSize=0}),3e3)}},created:function(){this.roles=_cmt.roles,this.suggestions=_cmt.suggestions,this.extentions=_cmt.extentions,this.wp_max_upload_size=_cmt.wp_max_upload_size,this.size_units=_cmt.size_units,this.size_unit=_cmt.size_unit,this.max_upload_size=parseInt(_cmt.max_upload_size)/parseInt(_cmt.size_units[_cmt.size_unit]),this.newExt()},mounted:function(){s.init(),n("[data-loader]").animate({width:"100%",opacity:0},2e3,(function(){n(".cmt_loader").hide(0)}))}}).mount("#cmt_app")})()})();